---
import type { AstroSeoProps } from "@astrolib/seo";
import BaseHead from "@components/BaseHead.astro";

import Footer from "@components/global/Footer.astro";
import Navigation from "@components/global/Navigation.astro";
import CookieBanner from "@components/global/CookieBanner.astro";
import { getLangFromUrl } from "../i18n/utils";

type Props = {
	seo?: AstroSeoProps;
};

const { seo: seoProp } = Astro.props;

const lang = getLangFromUrl(Astro.url);

// Immagine OpenGraph statica
const ogImageUrl = new URL("/og-image.svg", Astro.site).toString();

const defaultSeo: AstroSeoProps = {
	title: "Rayo Consulting - Sviluppo Web, App Mobile e Soluzioni AI | Citt√† di Castello, Umbria",
	description:
		"üöÄ Rayo Consulting: Web Agency specializzata in sviluppo siti web, app mobile e soluzioni AI a Citt√† di Castello, Umbria. Trasformiamo le tue idee in realt√† digitali innovative. Preventivi gratuiti! ‚≠ê 5/5 stelle dai clienti.",
	canonical: "https://rayo.consulting",
	openGraph: {
		url: "https://rayo.consulting",
		title: "Rayo Consulting - Sviluppo Web, App Mobile e Soluzioni AI | Citt√† di Castello",
		description:
			"Web Agency specializzata in sviluppo siti web, app mobile e soluzioni AI a Citt√† di Castello, Umbria. Trasformiamo le tue idee in realt√† digitali innovative. Preventivi gratuiti!",
		images: [
			{
				url: ogImageUrl,
				width: 1200,
				height: 630,
				alt: "Rayo Consulting - Web Agency Citt√† di Castello",
				type: "image/svg+xml",
			},
		],
		site_name: "Rayo Consulting",
		type: "website",
		locale: lang === "it" ? "it_IT" : "en_US",
	},
	twitter: {
		handle: "@rayo.consulting",
		site: "@rayo.consulting",
		cardType: "summary_large_image",
	},
	additionalMetaTags: [
		{
			name: "publisher",
			content: "Patriarchi Dylan",
		},
		{
			name: "author",
			content: "Rayo Consulting",
		},
		{
			name: "theme-color",
			content: "#000000",
		},
		{
			name: "msapplication-TileColor",
			content: "#000000",
		},
		{
			property: "business:contact_data:locality",
			content: "Citt√† di Castello",
		},
		{
			property: "business:contact_data:region",
			content: "Umbria",
		},
		{
			property: "business:contact_data:country_name",
			content: "Italia",
		},
		{
			property: "business:contact_data:email",
			content: "info@rayoconsulting.org",
		},
	],
};

const seo = {
	...defaultSeo,
	...seoProp,
};
---

<html lang={lang}>
	<head>
		<BaseHead seo={seo} />
	</head>
	<body class="bg-black">
		<Navigation />
		<slot />
		<Footer />
		<CookieBanner />
	</body>
</html>
