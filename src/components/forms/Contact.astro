---
import Title from "@components/global/Title.astro";
import { getLangFromUrl, useTranslations, useTranslatedPath } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<section class="min-h-screen py-32">
	<div class="max-w-7xl mx-auto px-8">
		<!-- Header -->
		<div class="mb-20">
			<Title 
				class="pb-10 pt-20 uppercase" 
				title={lang === "it" ? "Contatti" : "Contact"} 
				subtitle={lang === "it" ? "Parliamo del tuo progetto" : "Let's discuss your project"} 
			/>
		</div>

		<div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
			<!-- Contact Info -->
			<div class="space-y-12">
				<div>
					<h2 class="font-mono text-2xl font-bold uppercase mb-8">
						{lang === "it" ? "Informazioni di Contatto" : "Contact Information"}
					</h2>
					
					<div class="space-y-6">
						<!-- Email -->
						<div class="flex items-center gap-4 p-6 border border-gray-700 hover:border-white transition-colors">
							<div class="w-8 h-8 border border-gray-600 flex items-center justify-center">
								<span class="text-sm">@</span>
							</div>
							<div>
								<h3 class="font-mono font-bold uppercase text-sm text-gray-400">Email</h3>
								<a href="mailto:info@rayoconsulting.org" class="text-lg hover:text-gray-300 transition-colors">
									info@rayoconsulting.org
								</a>
							</div>
						</div>

						<!-- Instagram -->
						<div class="flex items-center gap-4 p-6 border border-gray-700 hover:border-white transition-colors">
							<div class="w-8 h-8 border border-gray-600 flex items-center justify-center">
								<span class="text-sm">IG</span>
							</div>
							<div>
								<h3 class="font-mono font-bold uppercase text-sm text-gray-400">Instagram</h3>
								<a href="https://instagram.com/rayo.consulting" target="_blank" class="text-lg hover:text-gray-300 transition-colors">
									@rayo.consulting
								</a>
							</div>
						</div>

						<!-- Location -->
						<div class="flex items-center gap-4 p-6 border border-gray-700">
							<div class="w-8 h-8 border border-gray-600 flex items-center justify-center">
								<span class="text-sm">üìç</span>
							</div>
							<div>
								<h3 class="font-mono font-bold uppercase text-sm text-gray-400">
									{lang === "it" ? "Sede" : "Location"}
								</h3>
								<p class="text-lg">Citt√† di Castello, Italia</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Chat Window -->
			<div class="relative">
				<h2 class="font-mono text-2xl font-bold uppercase mb-8">
					{lang === "it" ? "Chat Diretta" : "Live Chat"}
				</h2>
				
				<div class="border border-gray-700 bg-black relative overflow-hidden">
					<!-- Chat Header -->
					<div class="border-b border-gray-700 p-4 flex items-center justify-between">
						<div class="flex items-center gap-3">
							<div class="w-3 h-3 bg-red-500 rounded-full"></div>
							<div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
							<div class="w-3 h-3 bg-green-500 rounded-full"></div>
						</div>
						<div class="font-mono text-sm uppercase">Rayo Consulting</div>
					</div>

					<!-- Chat Content -->
					<div class="p-6 h-96 flex flex-col justify-between relative">
						<!-- Messages -->
						<div class="space-y-4">
							<div class="flex items-start gap-3">
								<div class="w-8 h-8 border border-gray-600 flex items-center justify-center text-xs">RC</div>
								<div class="bg-gray-800 p-3 max-w-xs">
									<p class="text-sm">
										{lang === "it" 
											? "Ciao! Come posso aiutarti oggi?" 
											: "Hello! How can I help you today?"
										}
									</p>
								</div>
							</div>
						</div>

						<!-- Maintenance Overlay -->
						<div class="absolute inset-0 bg-black/80 flex items-center justify-center backdrop-blur-sm">
							<div class="text-center p-8">
								<div class="w-16 h-16 border border-gray-600 flex items-center justify-center mx-auto mb-4">
									<span class="text-2xl">üîß</span>
								</div>
								<h3 class="font-mono font-bold uppercase text-lg mb-2">
									{lang === "it" ? "In Manutenzione" : "Under Maintenance"}
								</h3>
								<p class="text-gray-400 text-sm mb-4">
									{lang === "it" 
										? "La chat √® attualmente in manutenzione e non pu√≤ essere utilizzata."
										: "Chat is currently under maintenance and cannot be used."
									}
								</p>
								<p class="text-gray-500 text-xs">
									{lang === "it" 
										? "Contattaci via email per assistenza immediata."
										: "Contact us via email for immediate assistance."
									}
								</p>
							</div>
						</div>

						<!-- Chat Input (disabled) -->
						<div class="flex gap-2 mt-4">
							<input 
								type="text" 
								disabled
								placeholder={lang === "it" ? "Scrivi un messaggio..." : "Type a message..."}
								class="flex-1 p-3 bg-gray-800 border border-gray-700 text-gray-500 cursor-not-allowed opacity-50"
							>
							<button 
								disabled
								class="px-6 py-3 border border-gray-700 font-mono font-bold uppercase text-sm text-gray-500 cursor-not-allowed opacity-50"
							>
								{lang === "it" ? "Invia" : "Send"}
							</button>
						</div>
					</div>
				</div>

				<!-- Chat Status -->
				<div class="mt-4 flex items-center gap-2 text-sm text-gray-400">
					<div class="w-2 h-2 bg-red-500 rounded-full"></div>
					<span class="font-mono uppercase">
						{lang === "it" ? "Offline - In Manutenzione" : "Offline - Under Maintenance"}
					</span>
				</div>
			</div>
		</div>

		<!-- CTA Section -->
		<div class="mt-20 text-center">
			<h3 class="font-mono text-xl font-bold uppercase mb-4">
				{lang === "it" ? "Pronto a Iniziare?" : "Ready to Start?"}
			</h3>
			<p class="text-gray-400 mb-8 max-w-2xl mx-auto">
				{lang === "it" 
					? "Trasformiamo le tue idee in soluzioni digitali innovative. Contattaci per discutere il tuo progetto."
					: "Let's transform your ideas into innovative digital solutions. Contact us to discuss your project."
				}
			</p>
			<a 
				href="mailto:info@rayoconsulting.org" 
				class="inline-block bg-white text-black font-mono font-bold uppercase px-8 py-4 hover:bg-gray-200 transition-colors"
			>
				{lang === "it" ? "Invia Email" : "Send Email"}
			</a>
		</div>
	</div>
</section>

<style>
	input:disabled,
	button:disabled {
		cursor: not-allowed !important;
	}
</style>
